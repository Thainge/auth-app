{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\React\\\\auth-app\\\\src\\\\pages\\\\login\\\\login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { ContextFunction } from './../../context/ContextProvider';\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\nimport { useNavigate } from \"react-router-dom\";\nimport styles from './login.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const obj = ContextFunction();\n  const navigate = useNavigate(); // States\n\n  const [formValues, setFormValues] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const [loading, setLoader] = useState(false);\n  const [badValue, setBadValue] = useState('');\n  const {\n    username,\n    password\n  } = formValues; // Handles input change\n\n  function handleChange(e) {\n    const value = e.target.value;\n    setFormValues({ ...formValues,\n      [e.target.name]: value\n    });\n  } // On submit, send data to firebase to login user\n\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    setLoader(true);\n    await login(username, password);\n    setLoader(false);\n  } // Request to firebase to login existing user\n\n\n  const auth = getAuth();\n\n  const login = async (email, password) => {\n    signInWithEmailAndPassword(auth, email, password).then(userCredential => {\n      // Signed in \n      const user = userCredential.user;\n      obj.setUser(user); // also update localstorage to store user to stay signed in\n\n      obj.setUserObject({\n        currentUser: user\n      });\n      navigate(\"/dashboard\");\n    }).catch(error => {\n      let ErrorMessage = error.toString();\n      setBadValue(ErrorMessage);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.formContainer,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.inputContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: styles.headerH1,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              className: styles.inputField,\n              type: \"text\",\n              value: username,\n              name: \"username\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Password:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: 'password',\n              className: styles.inputField,\n              value: password,\n              name: \"password\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.red,\n          children: badValue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.loadingText,\n          children: \"Signing In...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 32\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: styles.submitButton,\n            type: \"submit\",\n            value: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"uCsJC+/9lwSaD/Z6SCnXPvt6BKI=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","ContextFunction","getAuth","signInWithEmailAndPassword","useNavigate","styles","Login","obj","navigate","formValues","setFormValues","username","password","loading","setLoader","badValue","setBadValue","handleChange","e","value","target","name","handleSubmit","preventDefault","login","auth","email","then","userCredential","user","setUser","setUserObject","currentUser","catch","error","ErrorMessage","toString","formContainer","inputContainer","headerH1","inputField","red","loadingText","submitButton"],"sources":["D:/Projects/React/auth-app/src/pages/login/login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { ContextFunction } from './../../context/ContextProvider';\r\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport styles from './login.module.css';\r\n\r\nfunction Login() {\r\n    const obj = ContextFunction();\r\n    const navigate = useNavigate();\r\n\r\n    // States\r\n    const [formValues, setFormValues] = useState({ username: \"\", password: \"\", })\r\n    const [loading, setLoader] = useState(false);\r\n    const [badValue, setBadValue] = useState('');\r\n    const { username, password } = formValues;\r\n\r\n    // Handles input change\r\n    function handleChange(e) {\r\n        const value = e.target.value;\r\n        setFormValues({\r\n            ...formValues,\r\n            [e.target.name]: value\r\n        });\r\n    }\r\n\r\n    // On submit, send data to firebase to login user\r\n    async function handleSubmit(e) {\r\n        e.preventDefault();\r\n        setLoader(true);\r\n        await login(username, password);\r\n        setLoader(false);\r\n    }\r\n\r\n    // Request to firebase to login existing user\r\n    const auth = getAuth();\r\n    const login = async (email, password) => {\r\n        signInWithEmailAndPassword(auth, email, password)\r\n            .then((userCredential) => {\r\n                // Signed in \r\n                const user = userCredential.user;\r\n                obj.setUser(user)\r\n                // also update localstorage to store user to stay signed in\r\n                obj.setUserObject({ currentUser: user })\r\n                navigate(\"/dashboard\")\r\n            })\r\n            .catch((error) => {\r\n                let ErrorMessage = error.toString();\r\n                setBadValue(ErrorMessage)\r\n            });\r\n    }\r\n\r\n    return (\r\n        <div className={styles.formContainer}>\r\n            <form onSubmit={handleSubmit}>\r\n                <div className={styles.inputContainer}>\r\n                    <h1 className={styles.headerH1}>Login</h1>\r\n                    <div>\r\n                        <label>\r\n                            Email:\r\n                            <input className={styles.inputField} type=\"text\" value={username} name=\"username\" onChange={handleChange} />\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        <label>\r\n                            Password:\r\n                            <input type={'password'} className={styles.inputField} value={password} name=\"password\" onChange={handleChange} />\r\n                        </label>\r\n                    </div>\r\n                    <div className={styles.red}>{badValue}</div>\r\n                    {loading ? <div className={styles.loadingText}>Signing In...</div> : <></>}\r\n                    <div>\r\n                        <input className={styles.submitButton} type=\"submit\" value=\"Submit\" />\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}