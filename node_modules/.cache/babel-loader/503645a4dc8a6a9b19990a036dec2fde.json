{"ast":null,"code":"import _slicedToArray from\"D:/Projects/React/votes-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var Context=/*#__PURE__*/React.createContext();// Shortcut way to access state\nexport function ContextFunction(){return useContext(Context);}// Export provider container to wrap app in so children can access\nexport function InputProvider(_ref){var children=_ref.children;// Initial value for localstorage\nvar storedObject=JSON.parse(localStorage.getItem(\"items\"))||[];var _useState=useState(storedObject),_useState2=_slicedToArray(_useState,2),UserObject=_useState2[0],setUserObject=_useState2[1];// All states\nvar _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];// Logs out user if logout clicked\nvar LogoutUser=function LogoutUser(){localStorage.removeItem('items');obj.setUser(null);};// On UserObject change, update local storage as well\nuseEffect(function(){localStorage.setItem('items',JSON.stringify(UserObject));},[UserObject]);// On page load, get and set local storage values\nuseEffect(function(){if(UserObject){setUserObject(storedObject);setUser(UserObject.currentUser);}},[]);var obj={user:user,setUser:setUser,LogoutUser:LogoutUser,UserObject:UserObject,setUserObject:setUserObject};return/*#__PURE__*/_jsx(Context.Provider,{value:obj,children:children});}","map":{"version":3,"names":["React","useContext","useState","useEffect","Context","createContext","ContextFunction","InputProvider","children","storedObject","JSON","parse","localStorage","getItem","UserObject","setUserObject","user","setUser","LogoutUser","removeItem","obj","setItem","stringify","currentUser"],"sources":["D:/Projects/React/votes-app/src/context/ContextProvider.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\r\n\r\nconst Context = React.createContext();\r\n\r\n// Shortcut way to access state\r\nexport function ContextFunction() {\r\n    return useContext(Context)\r\n}\r\n\r\n// Export provider container to wrap app in so children can access\r\nexport function InputProvider({ children }) {\r\n    // Initial value for localstorage\r\n    const storedObject = JSON.parse(localStorage.getItem(\"items\")) || [];\r\n    const [UserObject, setUserObject] = useState(storedObject);\r\n\r\n    // All states\r\n    const [user, setUser] = useState(null);\r\n\r\n    // Logs out user if logout clicked\r\n    let LogoutUser = () => {\r\n        localStorage.removeItem('items');\r\n        obj.setUser(null)\r\n    }\r\n\r\n    // On UserObject change, update local storage as well\r\n    useEffect(() => {\r\n        localStorage.setItem('items', JSON.stringify(UserObject));\r\n    }, [UserObject]);\r\n\r\n    // On page load, get and set local storage values\r\n    useEffect(() => {\r\n        if (UserObject) {\r\n            setUserObject(storedObject)\r\n            setUser(UserObject.currentUser)\r\n        }\r\n    }, []);\r\n\r\n    let obj = {\r\n        user: user,\r\n        setUser: setUser,\r\n        LogoutUser: LogoutUser,\r\n        UserObject: UserObject,\r\n        setUserObject: setUserObject,\r\n    }\r\n\r\n    return (\r\n        <Context.Provider value={obj}>\r\n            {children}\r\n        </Context.Provider>\r\n    )\r\n}"],"mappings":"iHAAA,MAAOA,MAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,CAAsCC,SAAtC,KAAuD,OAAvD,C,2CAEA,GAAMC,QAAO,cAAGJ,KAAK,CAACK,aAAN,EAAhB,CAEA;AACA,MAAO,SAASC,gBAAT,EAA2B,CAC9B,MAAOL,WAAU,CAACG,OAAD,CAAjB,CACH,CAED;AACA,MAAO,SAASG,cAAT,MAAqC,IAAZC,SAAY,MAAZA,QAAY,CACxC;AACA,GAAMC,aAAY,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,GAA6C,EAAlE,CACA,cAAoCX,QAAQ,CAACO,YAAD,CAA5C,wCAAOK,UAAP,eAAmBC,aAAnB,eAEA;AACA,eAAwBb,QAAQ,CAAC,IAAD,CAAhC,yCAAOc,IAAP,eAAaC,OAAb,eAEA;AACA,GAAIC,WAAU,CAAG,QAAbA,WAAa,EAAM,CACnBN,YAAY,CAACO,UAAb,CAAwB,OAAxB,EACAC,GAAG,CAACH,OAAJ,CAAY,IAAZ,EACH,CAHD,CAKA;AACAd,SAAS,CAAC,UAAM,CACZS,YAAY,CAACS,OAAb,CAAqB,OAArB,CAA8BX,IAAI,CAACY,SAAL,CAAeR,UAAf,CAA9B,EACH,CAFQ,CAEN,CAACA,UAAD,CAFM,CAAT,CAIA;AACAX,SAAS,CAAC,UAAM,CACZ,GAAIW,UAAJ,CAAgB,CACZC,aAAa,CAACN,YAAD,CAAb,CACAQ,OAAO,CAACH,UAAU,CAACS,WAAZ,CAAP,CACH,CACJ,CALQ,CAKN,EALM,CAAT,CAOA,GAAIH,IAAG,CAAG,CACNJ,IAAI,CAAEA,IADA,CAENC,OAAO,CAAEA,OAFH,CAGNC,UAAU,CAAEA,UAHN,CAINJ,UAAU,CAAEA,UAJN,CAKNC,aAAa,CAAEA,aALT,CAAV,CAQA,mBACI,KAAC,OAAD,CAAS,QAAT,EAAkB,KAAK,CAAEK,GAAzB,UACKZ,QADL,EADJ,CAKH"},"metadata":{},"sourceType":"module"}