{"ast":null,"code":"import _regeneratorRuntime from\"D:/Projects/React/votes-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Projects/React/votes-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"D:/Projects/React/votes-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Projects/React/votes-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Projects/React/votes-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{ContextFunction}from'./../../context/ContextProvider';import{getAuth,updateProfile}from\"firebase/auth\";import styles from'./dashboard.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Dashboard(){var obj=ContextFunction();var user=obj.user;// States\nvar _useState=useState({name:''}),_useState2=_slicedToArray(_useState,2),formValues=_useState2[0],setFormValues=_useState2[1];var name=formValues.name;// Handles input change\nfunction handleChange(e){var value=e.target.value;setFormValues(_objectSpread(_objectSpread({},formValues),{},_defineProperty({},e.target.name,value)));}// On submit, send data to firebase to register user\nfunction handleSubmit(){return _handleSubmit.apply(this,arguments);}// Update user profile\nfunction _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:updateUserInfo();case 1:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}var auth=getAuth();var updateUserInfo=function updateUserInfo(){updateProfile(auth.currentUser,{displayName:name});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:styles.headerH1,children:\"Welcome to the portal\"}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.inputContainer,children:[/*#__PURE__*/_jsx(\"h1\",{className:styles.headerH1,children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:styles.inputField,name:\"name\",onChange:handleChange})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{className:styles.submitButton,type:\"submit\",value:\"Apply\"})})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsx(\"div\",{className:styles.inputContainer,children:/*#__PURE__*/_jsxs(\"h1\",{children:[\"Name: \",user.displayName]})})})]});}export default Dashboard;","map":{"version":3,"names":["React","useState","ContextFunction","getAuth","updateProfile","styles","Dashboard","obj","user","name","formValues","setFormValues","handleChange","e","value","target","handleSubmit","updateUserInfo","auth","currentUser","displayName","headerH1","inputContainer","inputField","submitButton"],"sources":["D:/Projects/React/votes-app/src/pages/dashboard/dashboard.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { ContextFunction } from './../../context/ContextProvider';\r\nimport { getAuth, updateProfile } from \"firebase/auth\";\r\nimport styles from './dashboard.module.css';\r\n\r\nfunction Dashboard() {\r\n    const obj = ContextFunction();\r\n    const { user } = obj;\r\n\r\n    // States\r\n    const [formValues, setFormValues] = useState({ name: '' })\r\n    const { name } = formValues;\r\n\r\n    // Handles input change\r\n    function handleChange(e) {\r\n        const value = e.target.value;\r\n        setFormValues({\r\n            ...formValues,\r\n            [e.target.name]: value\r\n        });\r\n    }\r\n\r\n    // On submit, send data to firebase to register user\r\n    async function handleSubmit() {\r\n        updateUserInfo();\r\n    }\r\n\r\n    // Update user profile\r\n    const auth = getAuth();\r\n    const updateUserInfo = () => {\r\n        updateProfile(auth.currentUser, {\r\n            displayName: name,\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1 className={styles.headerH1}>Welcome to the portal</h1>\r\n            <form onSubmit={handleSubmit}>\r\n                <div className={styles.inputContainer}>\r\n                    <h1 className={styles.headerH1}>Dashboard</h1>\r\n                    <div>\r\n                        <label>\r\n                            Name:\r\n                            <input type='text' className={styles.inputField} name=\"name\" onChange={handleChange} />\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        <input className={styles.submitButton} type=\"submit\" value=\"Apply\" />\r\n                    </div>\r\n                </div>\r\n            </form>\r\n            <br></br>\r\n            <form onSubmit={handleSubmit}>\r\n                <div className={styles.inputContainer}>\r\n                    <h1>Name: {user.displayName}</h1>\r\n                </div>\r\n            </form >\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default Dashboard;"],"mappings":"skBAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,eAAT,KAAgC,iCAAhC,CACA,OAASC,OAAT,CAAkBC,aAAlB,KAAuC,eAAvC,CACA,MAAOC,OAAP,KAAmB,wBAAnB,C,wFAEA,QAASC,UAAT,EAAqB,CACjB,GAAMC,IAAG,CAAGL,eAAe,EAA3B,CACA,GAAQM,KAAR,CAAiBD,GAAjB,CAAQC,IAAR,CAEA;AACA,cAAoCP,QAAQ,CAAC,CAAEQ,IAAI,CAAE,EAAR,CAAD,CAA5C,wCAAOC,UAAP,eAAmBC,aAAnB,eACA,GAAQF,KAAR,CAAiBC,UAAjB,CAAQD,IAAR,CAEA;AACA,QAASG,aAAT,CAAsBC,CAAtB,CAAyB,CACrB,GAAMC,MAAK,CAAGD,CAAC,CAACE,MAAF,CAASD,KAAvB,CACAH,aAAa,gCACND,UADM,wBAERG,CAAC,CAACE,MAAF,CAASN,IAFD,CAEQK,KAFR,GAAb,CAIH,CAED;AAjBiB,QAkBFE,aAlBE,+CAsBjB;AAtBiB,iGAkBjB,qIACIC,cAAc,GADlB,sDAlBiB,+CAuBjB,GAAMC,KAAI,CAAGf,OAAO,EAApB,CACA,GAAMc,eAAc,CAAG,QAAjBA,eAAiB,EAAM,CACzBb,aAAa,CAACc,IAAI,CAACC,WAAN,CAAmB,CAC5BC,WAAW,CAAEX,IADe,CAAnB,CAAb,CAGH,CAJD,CAMA,mBACI,oCACI,WAAI,SAAS,CAAEJ,MAAM,CAACgB,QAAtB,mCADJ,cAEI,aAAM,QAAQ,CAAEL,YAAhB,uBACI,aAAK,SAAS,CAAEX,MAAM,CAACiB,cAAvB,wBACI,WAAI,SAAS,CAAEjB,MAAM,CAACgB,QAAtB,uBADJ,cAEI,kCACI,8CAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAEhB,MAAM,CAACkB,UAArC,CAAiD,IAAI,CAAC,MAAtD,CAA6D,QAAQ,CAAEX,YAAvE,EAFJ,GADJ,EAFJ,cAQI,kCACI,cAAO,SAAS,CAAEP,MAAM,CAACmB,YAAzB,CAAuC,IAAI,CAAC,QAA5C,CAAqD,KAAK,CAAC,OAA3D,EADJ,EARJ,GADJ,EAFJ,cAgBI,aAhBJ,cAiBI,aAAM,QAAQ,CAAER,YAAhB,uBACI,YAAK,SAAS,CAAEX,MAAM,CAACiB,cAAvB,uBACI,+BAAWd,IAAI,CAACY,WAAhB,GADJ,EADJ,EAjBJ,GADJ,CAyBH,CAED,cAAed,UAAf"},"metadata":{},"sourceType":"module"}